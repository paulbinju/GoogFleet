@model GoogFleet.Models.Vehicle_T

@{
    
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Fleet Management</title>
    <meta name="robots" content="nofollow" />
    <!-- HTML5 Shim and Respond.js IE10 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 10]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js")"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js")"></script>
      <![endif]-->
    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   
    <!-- Favicon icon -->
    <link rel="icon" href="@Url.Content("~/assets/images/favicon.ico")" type="image/x-icon">

    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,800" rel="stylesheet">

    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/bower_components/bootstrap/css/bootstrap.min.css")">
    <!-- themify-icons line icon -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/assets/icon/themify-icons/themify-icons.css")">
    <!-- ico font -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/assets/icon/icofont/css/icofont.css")">
    <!-- flag icon framework css -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/assets/pages/flag-icon/flag-icon.min.css")">
    <!-- Menu-Search css -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/assets/pages/menu-search/css/component.css")">
    <!-- Data Table Css -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/bower_components/datatables.net-bs4/css/dataTables.bootstrap4.min.css")">
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/assets/pages/data-table/css/buttons.dataTables.min.css")">
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/bower_components/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css")">
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/assets/css/style.css")">
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/assets/css/jquery.mCustomScrollbar.css")">
</head>

<body>
    <!-- Pre-loader start -->
    <div class="theme-loader">
        <div class="ball-scale">
            <div class='contain'>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
                <div class="ring"><div class="frame"></div></div>
            </div>
        </div>
    </div>
    <!-- Pre-loader end -->

    <div id="pcoded" class="pcoded">
        <div class="pcoded-overlay-box"></div>
        <div class="pcoded-container navbar-wrapper">

            @Html.Partial("_header")
            <div class="pcoded-main-container">
                <div class="pcoded-wrapper">
                    @Html.Partial("_sidemenu")
                    <div class="pcoded-content">
                        <div class="pcoded-inner-content">

                            <!-- Main-body start -->
                            <div class="main-body">
                                <div class="page-wrapper">
                                    <!-- Page-header start -->
                                    <div class="page-body">
                                    
                                   
                                        <div class="card">
                                            <div class="card-header">
                                                <h4>Vehicles</h4>
                                                <span>List of All Vehicles. You can add a new Vehicle if not listed by clicking on the blue button on the right. Search and Filter option available to find the Vehicle.</span>
                                                <div class="card-header-right">    <ul class="list-unstyled card-option">        <li><i class="icofont icofont-simple-left "></i></li>        <li><i class="icofont icofont-maximize full-card"></i></li>        <li><i class="icofont icofont-minus minimize-card"></i></li>        <li><i class="icofont icofont-refresh reload-card"></i></li>        <li><i class="icofont icofont-error close-card"></i></li>    </ul></div>
                                            </div>
                                            <div class="card-block">
                                                <div class="dt-responsive table-responsive">
                                                    <table id="table-style-hover" class="table table-striped table-hover table-bordered nowrap">
                                                        <thead>
                                                            <tr>
                                                                <th title="Field #1">
                                                                    Vehicle Name
                                                                </th>
                                                                <th title="Group / Type">Group</th>
                                                                <th>Type</th>
                                                                <th title="Field #4">
                                                                    Registration No
                                                                </th>
                                                                <th title="Field #5">
                                                                    Brand
                                                                </th>
                                                                <th>Modify</th>
                                                                
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @foreach (var veh in ViewBag.Vehicles)
                                                            {
                                                                <tr>
                                                                    <td>@veh.VehicleNoName</td>
                                                                    <td>@veh.VehicleGroup</td>
                                                                    <td>@veh.VehicleType</td>
                                                                    <td>@veh.RegistrationNo</td>
                                                                    <td>@veh.Brand</td>
                                                                    <td><a class="pcoded-badge label label-warning" href="@Url.Content("~/VehicleDetails/"+veh.VehicleID)">Details</a>
                                                                    &nbsp;
                           
                                                                    <a class="pcoded-badge label label-danger" href="@Url.Content("~/VehicleUserAllocation/" + veh.VehicleID)">Allocate to User</a>

                                                                </tr>
                                                            }

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Base style - Hover table end -->
                                    </div>
                                    <!-- Page-body end -->
                                </div>
                            </div>
@using (Html.BeginForm("Create", "Vehicle"))
{
                            <div id="styleSelector">
                               
                            </div>
}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade modal-dialog-center" id="VehicleGroupModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrap">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Add Vehicle Group</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <div class="col-md-10">
                                    Vehicle Group<br />
                                    <input type="text" class="form-control" id="VehicleGroup" />
                                    <input type="hidden" id="FleetCompanyID" value="@Session["FleetCompanyID"]" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-offset-2 col-md-10">
                                    <button id="btnVehicleGroup" class="btn btn-danger">Create</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br style="clear:both" />
                    <div class="modal-footer">

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade modal-dialog-center" id="VehicleTypeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrap">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Add Vehicle Type</h4>
                    </div>

                    <div class="modal-body">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <div class="col-md-10">
                                    Vehicle Type<br />
                                    <input type="text" class="form-control" id="VehicleType" />
                                    <input type="hidden" id="FleetCompanyID" value="@Session["FleetCompanyID"]" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-offset-2 col-md-10">
                                    <button id="btnVehicleType" class="btn btn-danger">Create</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br style="clear:both" />
                    <div class="modal-footer">

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade modal-dialog-center" id="AutoBrandModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content-wrap">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Add Auto Brand</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-horizontal">
                            <div class="form-group">
                                <div class="col-md-10">
                                    Make<br />
                                    <input type="text" class="form-control" id="Make" />
                                    <input type="hidden" id="FleetCompanyID" value="@Session["FleetCompanyID"]" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-10">
                                    Model<br />
                                    <input type="text" class="form-control" id="Model" />

                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-offset-2 col-md-10">
                                    <button id="btnAutoBrand" class="btn btn-danger">Create</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br style="clear:both" />
                    <div class="modal-footer">

                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Main-body end -->
    <!-- Warning Section Starts -->
    <!-- Older IE warning message -->
    <!--[if lt IE 10]>
    <div class="ie-warning">
        <h1>Warning!!</h1>
        <p>You are using an outdated version of Internet Explorer, please upgrade <br/>to any of the following web browsers to access this website.</p>
        <div class="iew-container">
            <ul class="iew-download">
                <li>
                    <a href="http://www.google.com/chrome/">
                        <img src="@Url.Content("~/assets/images/browser/chrome.png")" alt="Chrome">
                        <div>Chrome</div>
                    </a>
                </li>
                <li>
                    <a href="https://www.mozilla.org/en-US/firefox/new/">
                        <img src="@Url.Content("~/assets/images/browser/firefox.png")" alt="Firefox">
                        <div>Firefox</div>
                    </a>
                </li>
                <li>
                    <a href="http://www.opera.com">
                        <img src="@Url.Content("~/assets/images/browser/opera.png")" alt="Opera">
                        <div>Opera</div>
                    </a>
                </li>
                <li>
                    <a href="https://www.apple.com/safari/">
                        <img src="@Url.Content("~/assets/images/browser/safari.png")" alt="Safari">
                        <div>Safari</div>
                    </a>
                </li>
                <li>
                    <a href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">
                        <img src="@Url.Content("~/assets/images/browser/ie.png")" alt="">
                        <div>IE (9 & above)</div>
                    </a>
                </li>
            </ul>
        </div>
        <p>Sorry for the inconvenience!</p>
    </div>
    <![endif]-->
    <!-- Warning Section Ends -->
    <!-- Required Jquery -->
    <script src="@Url.Content("~/Content/jquery-3.2.1.min.js")"></script>

    <script>
        $(document).ready(function () {
            $(".editrow").hide();
            getautobrand();
            getvehiclegroup();
            getvehicletype();


            $("#btnVehicleGroup").click(function () {
                $.getJSON('@Url.Content("~/App/AddVehicleGroup/")' + $("#FleetCompanyID").val() + '/' + $("#VehicleGroup").val() + '/?jsoncallback=?', function (data) {
                }).done(function () {
                    getvehiclegroup();
                    $('#VehicleGroupModal').modal('hide');
                });
            });
            $("#btnVehicleType").click(function () {
                $.getJSON('@Url.Content("~/App/AddVehicleType/")' + $("#FleetCompanyID").val() + '/' + $("#VehicleType").val() + '/?jsoncallback=?', function (data) {
                }).done(function () {
                    getvehicletype();
                    $('#VehicleTypeModal').modal('hide');
                });
            });

            $("#btnAutoBrand").click(function () {
                $.getJSON('@Url.Content("~/App/AddAutoBrand/")' + $("#FleetCompanyID").val() + '/' + $("#Make").val() + '/' + $("#Model").val() + '/?jsoncallback=?', function (data) {
                }).done(function () {
                    getautobrand();
                    $('#AutoBrandModal').modal('hide');
                });
            });

        });
        function openrow(row) { $("#edit-" + row).show(2000); }

        function getautobrand() {
            $.getJSON('@Url.Content("~/App/AutoBrand/"+Session["FleetCompanyID"]+"/?jsoncallback=?")', function (data) {
                var content = "";
                $("#AutoBrandID").empty();
                $.each(data, function (key, value) {
                    $("#AutoBrandID").append("<option value='" + data[key].AutoBrandID + "'>" + data[key].Make + "-" + data[key].Model + "</option>");
                });
            });
        }

        function getvehiclegroup() {
            $.getJSON('@Url.Content("~/App/VehicleGroup/" + Session["FleetCompanyID"] + "/?jsoncallback=?")', function (data) {
                var content = "";
                $("#VehicleGroupID").empty();
                $.each(data, function (key, value) {
                    $("#VehicleGroupID").append("<option value='" + data[key].VehicleGroupID + "'>" + data[key].VehicleGroup + "</option>");
                });
            });
        }

        function getvehicletype() {
            $.getJSON('@Url.Content("~/App/VehicleType/" + Session["FleetCompanyID"] + "/?jsoncallback=?")', function (data) {
                var content = "";
                $("#VehicleTypeID").empty();
                $.each(data, function (key, value) {
                    $("#VehicleTypeID").append("<option value='" + data[key].VehicleTypeID + "'>" + data[key].VehicleType + "</option>");
                });
            });
        }

    </script>


    <script type="text/javascript" src="@Url.Content("~/bower_components/jquery/js/jquery.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/bower_components/jquery-ui/js/jquery-ui.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/bower_components/popper.js/js/popper.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/bower_components/bootstrap/js/bootstrap.min.js")"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript" src="@Url.Content("~/bower_components/jquery-slimscroll/js/jquery.slimscroll.js")"></script>
    <!-- modernizr js -->
    <script type="text/javascript" src="@Url.Content("~/bower_components/modernizr/js/modernizr.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/bower_components/modernizr/js/css-scrollbars.js")"></script>

    <!-- data-table js -->
    <script src="@Url.Content("~/bower_components/datatables.net/js/jquery.dataTables.min.js")"></script>
    <script src="@Url.Content("~/bower_components/datatables.net-buttons/js/dataTables.buttons.min.js")"></script>
    <script src="@Url.Content("~/assets/pages/data-table/js/jszip.min.js")"></script>
    <script src="@Url.Content("~/assets/pages/data-table/js/pdfmake.min.js")"></script>
    <script src="@Url.Content("~/assets/pages/data-table/js/vfs_fonts.js")"></script>
    <script src="@Url.Content("~/bower_components/datatables.net-buttons/js/buttons.print.min.js")"></script>
    <script src="@Url.Content("~/bower_components/datatables.net-buttons/js/buttons.html5.min.js")"></script>
    <script src="@Url.Content("~/bower_components/datatables.net-bs4/js/dataTables.bootstrap4.min.js")"></script>
    <script src="@Url.Content("~/bower_components/datatables.net-responsive/js/dataTables.responsive.min.js")"></script>
    <script src="@Url.Content("~/bower_components/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js")"></script>
    <!-- i18next.min.js -->
    <script type="text/javascript" src="@Url.Content("~/bower_components/i18next/js/i18next.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/bower_components/i18next-xhr-backend/js/i18nextXHRBackend.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/bower_components/i18next-browser-languagedetector/js/i18nextBrowserLanguageDetector.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/bower_components/jquery-i18next/js/jquery-i18next.min.js")"></script>
    <!-- Custom js -->
    <script src="@Url.Content("~/assets/pages/data-table/js/data-table-custom.js")"></script>
    <script src="@Url.Content("~/assets/js/pcoded.min.js")"></script>
    <script src="@Url.Content("~/assets/js/demo-12.js")"></script>
    <script src="@Url.Content("~/assets/js/jquery.mCustomScrollbar.concat.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/assets/js/script.js")"></script>
</body>

</html>
